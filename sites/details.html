<!DOCTYPE html>
<html class="responsive" lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Tienda de videojuegos online - Mega Games"
    />
    <title></title>
    <link rel="icon" type="" href="/assets/public/mega-games-logo.svg" />
    <link rel="stylesheet" href="/assets/css/styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!-- HEADER ðŸ”´ -->
    <div class="HamburgerMenuSlot"></div>
    <div class="HeaderSlotMobile"></div>
    <div class="HeaderSlotDesktop"></div>
    <!-- NAVBAR ðŸ”´ -->
    <div class="NavbarSlotMobile"></div>
    <div class="NavbarSlotDesktop"></div>
    <div class="container-fluid position-relative">
      <div
        class="page_background_holder"
        style="
          height: 450px;
          background-image: url('/assets/public/presentacion3.jpg'),
            linear-gradient(to right, rgb(0, 0, 0) 50%, rgb(0, 0, 0) 50%);
        "
      ></div>
      <div
        class="page_background_holder_mobile"
        style="
          height: 350px;
          background-image: url('/assets/public/presentacion3-mobile.jpg'),
            linear-gradient(to right, rgb(0, 0, 0) 50%, rgb(0, 0, 0) 50%);
        "
      ></div>
    </div>
    <div class="NavbarSlot"></div>
    <div class="divider_header"></div>
    <div class="home_page_takeover_link">
      <a
        class="home_page_takeover_sizer"
        href="/sites/ActivisionPublisherSale2024.html"
      >
        <img style="height: 385px" src="/assets/public/blank.gif" alt="" />
      </a>
    </div>
    <div id="gameDetails" class="game-details">
      <img id="gameImage" src="" alt="Imagen del juego" />
      <h1 id="gameName"></h1>
      <p id="gamePrice"></p>
      <p id="gameLikes"></p>
      <!-- MÃ¡s detalles como descripciÃ³n, botones de compra, etc. -->
    </div>
  </body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const queryParams = new URLSearchParams(window.location.search);
    const gameTitle = queryParams.get("name");
    const gameId = parseInt(queryParams.get("id"));
    console.log(gameId);
    console.log(gameTitle);
    document.title = gameTitle;
    console.log(gameTitle);

    fetch("/data/api/offerCards.json")
      .then((response) => response.json())
      .then((games) => {
        const gameFound = games.find((game) => game.id === gameId);
        console.log(gameFound);
        if (gameFound) {
          document.getElementById("gameImage").src = gameFound.imagen;
          document.getElementById("gameName").textContent = gameFound.nombre;
          document.getElementById(
            "gamePrice"
          ).textContent = `Precio: ${gameFound.precioDescuento}`;
          document.getElementById(
            "gameLikes"
          ).textContent = `Likes: ${gameFound.likes}`;
        } else {
          console.log("Juego no encontrado");
        }
      })
      .catch((error) =>
        console.error("Error al cargar los datos del juego:", error)
      );
  });
</script>
